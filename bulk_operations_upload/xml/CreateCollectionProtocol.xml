<?xml version="1.0" encoding="UTF-8"?>

<BulkOperationMetadata templateName="CreateCollectionProtocol" batchSize="5">
	<BulkOperationClass className="edu.wustl.catissuecore.domain.CollectionProtocol"
		 	    >

		<referenceAssociation
			className="edu.wustl.catissuecore.domain.User"
			  roleName="principalInvestigator"
			    >
				<attribute name="loginName" csvColumnName="PrincipalInvestigator"   />
		</referenceAssociation>

		<referenceAssociation
			className="edu.wustl.catissuecore.domain.User"
			 cardinality="*" roleName="coordinatorCollection"
			    >
				<attribute name="loginName" csvColumnName="Principalcordinator"   />
		</referenceAssociation>
		
		<containmentAssociation
			className="edu.wustl.catissuecore.domain.ConsentTier"
			 cardinality="*" roleName="consentTierCollection"
			  maxNoOfRecords="4"  >
				<attribute name="statement" csvColumnName="Consent"   />
		</containmentAssociation>

		<containmentAssociation
			className="edu.wustl.catissuecore.domain.ClinicalDiagnosis"
			   cardinality="*" roleName="clinicalDiagnosisCollection"  parentRoleName="collectionProtocol" >
				<attribute name="name" csvColumnName="ClinicalDiagnosis"   />	
		</containmentAssociation>
		
		<referenceAssociation
			className="edu.wustl.catissuecore.domain.Site"
			 cardinality="*" roleName="siteCollection"
			    >
				<attribute name="id" csvColumnName="SiteID"   />
		</referenceAssociation>

		<containmentAssociation
			className="edu.wustl.catissuecore.domain.CollectionProtocolEvent"
			   cardinality="*" roleName="collectionProtocolEventCollection" maxNoOfRecords="2" parentRoleName="collectionProtocol" >

			<attribute name="studyCalendarEventPoint" csvColumnName="Study Calender Event Point"   />								
			<attribute name="collectionPointLabel" csvColumnName="CollectionPointLabel"   />

			<attribute name="clinicalStatus" csvColumnName="Clinical Status"   />		
			<attribute name="activityStatus" csvColumnName="ActivityStatus"   />


			<containmentAssociation
				className="edu.wustl.catissuecore.domain.SpecimenRequirement"
				   cardinality="*" roleName="specimenRequirementCollection" maxNoOfRecords="2" parentRoleName="collectionProtocolEvent" >

				<attribute name="specimenClass" csvColumnName="Specimen Class"    >

					<discriminatorCollection name="Cell" value="edu.wustl.catissuecore.domain.CellSpecimenRequirement"/>
					<discriminatorCollection name="Molecular" value="edu.wustl.catissuecore.domain.MolecularSpecimenRequirement"/>
					<discriminatorCollection name="Fluid" value="edu.wustl.catissuecore.domain.FluidSpecimenRequirement"/>
					<discriminatorCollection name="Tissue" value="edu.wustl.catissuecore.domain.TissueSpecimenRequirement"/>

				</attribute>

				<attribute name="specimenType" csvColumnName="Specimen Type"   />
				<attribute name="storageType" csvColumnName="Storage Location"   />
				<attribute name="pathologicalStatus" csvColumnName="Pathological Status"   />
				<attribute name="initialQuantity" csvColumnName="Initial Quantity"   />
				<attribute name="lineage" csvColumnName="Lineage"   />
				<attribute name="labelFormat" csvColumnName="LabelFormat"   />

				<referenceAssociation
					className="edu.wustl.catissuecore.domain.SpecimenCharacteristics"
					      roleName="specimenCharacteristics">
						<attribute name="tissueSite" csvColumnName="Tissue Site"   />
						<attribute name="tissueSide" csvColumnName="Tissue Side"   />
				</referenceAssociation>

				<containmentAssociation
					className="edu.wustl.catissuecore.domain.CollectionEventParameters"
					   parentRoleName="specimen"  cardinality="*" roleName="specimenEventCollection">
						<referenceAssociation
						className="edu.wustl.catissuecore.domain.User"
						      roleName="user">
							<attribute name="id" csvColumnName="CUserID"   />
						</referenceAssociation>
						<attribute name="comment" csvColumnName="CComments"    />								
						<attribute name="collectionProcedure" csvColumnName="Procedure"   />
						<attribute name="container" csvColumnName="Container"   />
						<attribute name="timestamp" csvColumnName="CollectedDate(MM/DD/YYYY)"   />
				</containmentAssociation>

				<containmentAssociation
					className="edu.wustl.catissuecore.domain.ReceivedEventParameters"
					   parentRoleName="specimen"  cardinality="*" roleName="specimenEventCollection">
						<referenceAssociation
						className="edu.wustl.catissuecore.domain.User"
						      roleName="user">
							<attribute name="id" csvColumnName="RUserID"   />
						</referenceAssociation>
						<attribute name="comment" csvColumnName="RComments"   />								
						<attribute name="receivedQuality" csvColumnName="Quality"   />				
						<attribute name="timestamp" csvColumnName="ReceivedDate(MM/DD/YYYY)"   />
				</containmentAssociation>

			</containmentAssociation>

		</containmentAssociation>

		<attribute name="title" csvColumnName="Title"   />
		<attribute name="shortTitle" csvColumnName="ShortTitle"   />
		<attribute name="irbIdentifier" csvColumnName="IRB"   />
		<attribute name="startDate" csvColumnName="Date"   />
		<attribute name="descriptionURL" csvColumnName="URL"   />
		<attribute name="activityStatus" csvColumnName="Activity Status"   />
		<attribute name="consentsWaived" csvColumnName="Waived"   />
		<attribute name="aliquotInSameContainer" csvColumnName="Aliquot In Same Container"   />
		<attribute name="enrollment" csvColumnName="Enrollment"   />

		<attribute name="aliquotLabelFormat" csvColumnName="AliquotLabelFormat"   />
		<attribute name="derivativeLabelFormat" csvColumnName="DerivativeLabelFormat"   />
		<attribute name="specimenLabelFormat" csvColumnName="SpecimenLabelFormat"   />
	</BulkOperationClass>
</BulkOperationMetadata>