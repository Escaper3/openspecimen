<div>
  <div os-page-header>
    <h3>
      <span translate="jobs.list">Custom Report list</span>
    </h3>
    <div class="os-btns right">
      <button show-if-allowed="jobResource.createOpts"
        class="primary" title="{{'jobs.tooltip.create' | translate}}" ui-sref="job-addedit({jobId: ''})">
        <span class="fa fa-plus"></span>
        <span translate="common.buttons.create">Create</span>
      </button>
      <button class="default" os-right-drawer-toggle title="{{'job.tooltip.search' | translate}}">
        <span class="fa fa-search"></span>
        <span translate="common.buttons.search">Search</span>
      </button>
    </div>
  </div>

  <div class="container">
    <div class="os-table">
      <div class="os-table-head">
        <div class="row">
          <div class="col col-xs-1">
            <span translate="jobs.id">Id#</span>
          </div>
          <div class="col col-xs-4">
            <span translate="jobs.title">Title</span>
          </div>
          <div class="col col-xs-2">
            <span translate="jobs.created_by">Created By</span>
          </div>
          <div class="col col-xs-2">
            <span translate="jobs.schedule">Schedule</span>
          </div>
          <div class="col col-xs-2">
            <span translate="jobs.last_run_on">Last Run On</span>
          </div>

          <div class="col col-xs-1">&nbsp;</div>

        </div>
      </div>
      <div class="os-table-body">
        <div class="row" ng-repeat="job in jobs">
          <div class="col col-xs-1">
            #{{job.id}}
          </div>
          <div class="col col-xs-4">
            <span>{{job.name}}</span>
          </div>
          <div class="col col-xs-2">
            <span>{{job.createdBy.fistName}} {{job.createdBy.lastName}}</span>
          </div>
          <div class="col col-xs-2">
            <span>{{'jobs.' + job.repeatSchedule | translate}}</span>
          </div>
          <div class="col col-xs-2">
            <span>{{job.lastRunOn}}</span>
          </div>

          <div class="col col-xs-1 os-more-options">
            <div dropdown>
              <button class="btn btn-xs btn-default dropdown-toggle">
                <span class="fa fa-ellipsis-v"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right">
                <li show-if-allowed="jobResource.runOpts">
                  <a ng-click="executeJob(job.id)">
                    <i class="fa fa-play"></i>
                    <span translate="jobs.execute"></span>
                  </a>
                </li>
                <li show-if-allowed="jobResource.updateOpts">
                  <a ui-sref="job-addedit({jobId: job.id})">
                    <i class="fa fa-pencil"></i>
                    <span translate="jobs.edit"></span>
                  </a>
                </li>
                <li show-if-allowed="jobResource.deleteOpts">
                  <a ng-click="deleteJob(job.id)">
                    <i class="fa fa-trash"></i>
                    <span translate="jobs.delete"></span>
                  </a>
                </li>
                <li>
                  <a ui-sref="job-log({jobId: job.id})">
                    <i class="fa fa-bars"></i>
                    <span translate="jobs.view_log"></span>
                  </a>
                </li>

              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div os-right-drawer ng-include="'modules/administrative/order/search.html'"> </div>
</div>
