<div class="os-query-facets-panel">
  <h4 translate="queries.refine_results"> Refine Results </h4>
  <div class="facets-list">
    <div class="facet" ng-repeat="facet in resultsCtx.facets">
      <div class="head">
        <a class="toggle" ng-click="toggleFacetValues(facet)" ng-switch on="facet.isOpen">
          <span class="fa fa-angle-down"  ng-switch-when="true"></span>
          <span class="fa fa-angle-right" ng-switch-when="false"></span>
        </a>
        <span class="name" ng-click="toggleFacetValues(facet)">
          {{facet.caption}}
        </span>
        <a class="clear" ng-if="facet.selectedValues.length > 0" ng-click="clearFacetValueSelection($event, facet)">
          <span class="fa fa-times-circle"></span>
        </a>
      </div>
      <div class="values os-scrollbar" ng-if="facet.isOpen">
        <div class="facet-range clearfix" ng-if="facet.dataType != 'STRING'">
          <div class="col-xs-5 os-no-left-padding">
            <input type="text" ng-model="facet.min" os-md-input placeholder="Min">
          </div>
          <div class="col-xs-5 os-no-left-padding">
            <input type="text" ng-model="facet.max" os-md-input placeholder="Max">
          </div>
          <div class="col-xs-2 os-no-left-padding">
            <button class="btn btn-xs btn-success" ng-click="addRangeCond(facet)">
              <span>Go</span>
            </button>
          </div>
        </div>

        <ul>
          <li class="value" ng-repeat="value in facet.values">
            <div class="select-cb">
              <os-checkbox ng-model="value.selected" ng-change="toggleFacetValueSelection(facet, value)">
              </os-checkbox>
            </div>
            <div class="text" ng-if="facet.dataType == 'STRING'">
              <span>{{value.value}}</span>
            </div>
            <div class="text" ng-if="facet.dataType != 'STRING'">
              <span>{{value.value | osFacetRange}}</span>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
