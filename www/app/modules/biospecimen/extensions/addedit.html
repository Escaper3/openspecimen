<div>
  <div os-page-header>
    <ul os-breadcrumbs>
      <li> 
        <a ui-sref="cp-detail.overview({cpId: cpr.cpId})">
          {{cpr.cpTitle}}
        </a> 
      </li>
      <li>
        <a ui-sref="participant-detail.overview({cprId: cpr.id})">
          <ng-switch on="!!(cpr.participant.lastName || cpr.participant.firstName)">
            <span ng-switch-when="true"> {{cpr.participant.firstName}} {{cpr.participant.lastName}} </span>
            <span ng-switch-when="false" translate="common.na"> N/A </span>
          </ng-switch>
          <span>({{cpr.ppid}})</span>
        </a>
      </li>
      <li ng-if="!!visit">
        <a ui-sref="visit-detail.overview({visitId: visit.id, eventId: visit.eventId})">
          T{{visit.eventPoint}}: {{visit.eventLabel}}
        </a>
      </li>
      <li ng-if="!!specimen">
        <a ui-sref="specimen-detail.overview({specimenId: specimen.id, srId: specimen.reqId})">
          {{specimen.label}}
        </a>
      </li>
      <li> 
        <a ui-sref="{{statePrefix}}records({formId: formOpts.formId, formCtxId: formOpts.formCtxtId})">
          {{formOpts.formDef.caption}}
        </a> 
      </li>
    </ul>

    <h3 ng-switch on="!!formOpts.recordId">
      <p ng-switch-when="true">
        <span translate="extensions.edit_record">Edit Record</span>
        <span>#{{formOpts.recordId}}</span>
      </p>
      <span ng-switch-default translate="extensions.new_record">Create New Record</span>
    </h3>
  </div>

  <div class="container">
    <div class="os-extn-form" os-de-form opts="formOpts"></div>
  </div>
</div>
